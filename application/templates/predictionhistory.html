<!-- Inherits from layout.html -->
{% extends "layout.html" %}
<!-- The block content replace the one encapsulated in layout.html -->
{% block content %}




<div class="container-fluid callback my-2 pt-5">
    <div class="container pt-2">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <div class="bg-white border rounded p-4 p-sm-5 wow fadeInUp" data-wow-delay="0.5s">
                    <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.1s" style="max-width: 600px;">
                        <p class="d-inline-block border rounded text-primary fw-semi-bold py-1 px-3">Get In
                            Touch
                        </p>
                        <h1 class="display-5 mb-5">Your Prediction history</h1>
                    </div>
                    {% with messages = get_flashed_messages(with_categories=true)%}
                    {% if messages %}
                    {% for category, message in messages %}
                    <div class="alert alert-{{category}} d-flex justify-content-center align-items-center ">
                        <p class='p-0 m-0'>{{ message }}</p>
                    </div>
                    {% endfor %}
                    {% endif %}
                    {% endwith %}


                    

            
                    <table class="table table-striped">
                        <thead>
                          <tr>
                            <th scope="col">Age</th>
                            <th scope="col">Height</th>
                            <th scope="col">Weight</th>
                            <th scope="col">Diabetes?</th>
                            <th scope="col">Blood Pressure Problems</th>
                            <th scope="col">Previous Transplants?</th>
                            <th scope="col">Chronic Disease?</th>
                            <th scope="col">Allergy?</th>
                            <th scope="col">Cancer in Family?</th>
                            <th scope="col">No of previous Surgery</th>
                            <th scope="col">Predicted Premium Price</th>
                            <th scope="col">Datetime</th>

                          </tr>
                        </thead>
                        <tbody>
                        
                        {% for pred in predictions %}
                          <tr>
                            <th >{{pred.age}}</th>
                            <td>{{pred.height}}</td>
                            <td>{{pred.weight}}</td>
                            <td>{{pred.diabetes}}</td>
                            <td>{{pred.bp}}</td>
                            <td>{{pred.transplants}}</td>
                            <td>{{pred.chronic}}</td>
                            <td>{{pred.allergy}}</td>
                            <td>{{pred.cancer}}</td>
                            <td>{{pred.noSurgery}}</td>
                            <td>{{pred.predictedPremium|round(1)}}</td>
                            <td> {{pred.predicted_on.strftime("%d %b %y %H:%M")}}</td>
                          </tr>


                          {% endfor %}
                
                        </tbody>
                      </table>

{#
                    <!-- <form action="/predict" method="post" novalidate>
                        {{ form.csrf_token }}
                        <div class="row g-3">


                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.age.label }}</div>
                                    <div>{{ form.age(class_='form-control') }}</div>
                                    {% for error in form.age.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.weight.label }}</div>
                                    <div>{{ form.weight(class_='form-control') }}</div>
                                    {% for error in form.weight.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}


                                </div>
                            </div>
               
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.height.label }}</div>
                                    <div>{{ form.height(class_='form-control') }}</div>
                                    {% for error in form.height.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.bp.label }}</div>
                                    <div>{{ form.bp(class_='form-control') }}</div>
                                    {% for error in form.bp.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.transplants.label }}</div>
                                    <div>{{ form.transplants(class_='form-control') }}</div>
                                    {% for error in form.transplants.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.diabetes.label }}</div>
                                    <div>{{ form.diabetes(class_='form-control') }}</div>
                                    {% for error in form.diabetes.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.chronic.label }}</div>
                                    <div>{{ form.chronic(class_='form-control') }}</div>
                                    {% for error in form.chronic.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.allergy.label }}</div>
                                    <div> {{ form.allergy(class_='form-control') }}</div>
                                    {% for error in form.allergy.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.cancer.label }}</div>
                                    <div>{{ form.cancer(class_='form-control') }}</div>
                                    {% for error in form.cancer.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="form-floating">
                                    <div>{{ form.noSurgery.label }}</div>
                                    <div>{{ form.noSurgery(class_='form-control') }}</div>
                                    {% for error in form.noSurgery.errors %}
                                    <span class="error-message">{{ error }}</span>
                                    {% endfor %}

                                </div>
                            </div>

                            <div class="col-12 text-center">
                                <button class="btn btn-primary w-100 py-3" type="submit">Submit Now</button>
                            </div>




                        </div>
                    </form> -->

                    #}
                </div>
            </div>
        </div>
    </div>


    <!-- 

<div>

    <hr>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Sepal Length</th>
                <th>Sepal Width</th>
                <th>Petal Length</th>
                <th>Petal Width</th>
                <th>Prediction</th>
                <th>Timestamp</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in entries %}
            <tr>
                <td>{{ entry.sepal_length}}</td>
                <td>{{ entry.sepal_width }}</td>
                <td>{{ entry.petal_length}}</td>
                <td>{{ entry.petal_width }}</td>
                <td>{{ entry.prediction | int }}</td>
                <td>{{ entry.predicted_on.strftime("%d %b %y %H:%M")}}</td>


                <td>
                    <form name="frmRemoveEntry" action="/remove" method="post" novalidate>
                        <input type="hidden" name="id" value="{{entry.id}}">
                        <input type="submit" class="form-control btn-danger" value="Remove">
                    </form>


                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div> -->
    {% endblock %}